<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Anson&#39;s Blog</title>
    <meta name="generator" content="VuePress 1.5.0">
    <link rel="icon" href="/img/logo.ico">
    <meta name="description" content="种一棵树最好的时间在十年前，其次是现在。">
    <link rel="preload" href="/assets/css/0.styles.8467c532.css" as="style"><link rel="preload" href="/assets/js/app.25688d1b.js" as="script"><link rel="preload" href="/assets/js/2.b2df5d16.js" as="script"><link rel="preload" href="/assets/js/27.cf6b05af.js" as="script"><link rel="prefetch" href="/assets/js/10.b310ae98.js"><link rel="prefetch" href="/assets/js/11.68b37c29.js"><link rel="prefetch" href="/assets/js/12.c93e0435.js"><link rel="prefetch" href="/assets/js/13.1bdea796.js"><link rel="prefetch" href="/assets/js/14.d630dd31.js"><link rel="prefetch" href="/assets/js/15.95b3e0b6.js"><link rel="prefetch" href="/assets/js/16.6422eeda.js"><link rel="prefetch" href="/assets/js/17.3888dfd4.js"><link rel="prefetch" href="/assets/js/18.a9d9940f.js"><link rel="prefetch" href="/assets/js/19.a5ce5bfc.js"><link rel="prefetch" href="/assets/js/20.169c1129.js"><link rel="prefetch" href="/assets/js/21.40c405dc.js"><link rel="prefetch" href="/assets/js/22.b8efc644.js"><link rel="prefetch" href="/assets/js/23.72235025.js"><link rel="prefetch" href="/assets/js/24.af4bb339.js"><link rel="prefetch" href="/assets/js/25.128b00ad.js"><link rel="prefetch" href="/assets/js/26.c8c2954e.js"><link rel="prefetch" href="/assets/js/28.3eb1fd84.js"><link rel="prefetch" href="/assets/js/29.fac34056.js"><link rel="prefetch" href="/assets/js/3.8438a9e1.js"><link rel="prefetch" href="/assets/js/30.909facc0.js"><link rel="prefetch" href="/assets/js/31.833eec8f.js"><link rel="prefetch" href="/assets/js/32.822cc5d4.js"><link rel="prefetch" href="/assets/js/33.bc6871ef.js"><link rel="prefetch" href="/assets/js/34.f2625853.js"><link rel="prefetch" href="/assets/js/35.639ba4c8.js"><link rel="prefetch" href="/assets/js/36.bc172e32.js"><link rel="prefetch" href="/assets/js/37.87c51cb5.js"><link rel="prefetch" href="/assets/js/38.0c8e8cbf.js"><link rel="prefetch" href="/assets/js/39.72a1d3fe.js"><link rel="prefetch" href="/assets/js/4.d0098715.js"><link rel="prefetch" href="/assets/js/40.543f2865.js"><link rel="prefetch" href="/assets/js/41.aef1d946.js"><link rel="prefetch" href="/assets/js/42.2f81aa07.js"><link rel="prefetch" href="/assets/js/43.2b9ffcfb.js"><link rel="prefetch" href="/assets/js/44.5c0982f8.js"><link rel="prefetch" href="/assets/js/45.5f1b2e53.js"><link rel="prefetch" href="/assets/js/46.eafafe21.js"><link rel="prefetch" href="/assets/js/47.4b727178.js"><link rel="prefetch" href="/assets/js/48.af1f9f41.js"><link rel="prefetch" href="/assets/js/49.6c62706f.js"><link rel="prefetch" href="/assets/js/5.78b527c1.js"><link rel="prefetch" href="/assets/js/50.745c400a.js"><link rel="prefetch" href="/assets/js/51.2394aa11.js"><link rel="prefetch" href="/assets/js/52.3e6e53a5.js"><link rel="prefetch" href="/assets/js/53.cc97228b.js"><link rel="prefetch" href="/assets/js/54.a65e1dc6.js"><link rel="prefetch" href="/assets/js/55.20254ba9.js"><link rel="prefetch" href="/assets/js/56.f01b42f6.js"><link rel="prefetch" href="/assets/js/57.7d7af392.js"><link rel="prefetch" href="/assets/js/58.1067a24f.js"><link rel="prefetch" href="/assets/js/59.1131681d.js"><link rel="prefetch" href="/assets/js/6.77492e46.js"><link rel="prefetch" href="/assets/js/60.a3111d51.js"><link rel="prefetch" href="/assets/js/61.2ea4ed06.js"><link rel="prefetch" href="/assets/js/62.8a7f0795.js"><link rel="prefetch" href="/assets/js/63.94978d1f.js"><link rel="prefetch" href="/assets/js/64.279d588a.js"><link rel="prefetch" href="/assets/js/65.a8def40c.js"><link rel="prefetch" href="/assets/js/66.e8d0ea43.js"><link rel="prefetch" href="/assets/js/67.5e5595a2.js"><link rel="prefetch" href="/assets/js/68.e05b81fe.js"><link rel="prefetch" href="/assets/js/69.e2481251.js"><link rel="prefetch" href="/assets/js/7.cee22c78.js"><link rel="prefetch" href="/assets/js/70.648f97c5.js"><link rel="prefetch" href="/assets/js/71.2ab1e735.js"><link rel="prefetch" href="/assets/js/72.49cf62cf.js"><link rel="prefetch" href="/assets/js/73.b14ac5fc.js"><link rel="prefetch" href="/assets/js/74.a2f88699.js"><link rel="prefetch" href="/assets/js/75.d685d1e6.js"><link rel="prefetch" href="/assets/js/76.f04e8aaa.js"><link rel="prefetch" href="/assets/js/77.0f81abf6.js"><link rel="prefetch" href="/assets/js/78.9a002b85.js"><link rel="prefetch" href="/assets/js/79.20df5526.js"><link rel="prefetch" href="/assets/js/8.5e2fa482.js"><link rel="prefetch" href="/assets/js/80.e09c57f4.js"><link rel="prefetch" href="/assets/js/9.de3c4ef1.js">
    <link rel="stylesheet" href="/assets/css/0.styles.8467c532.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Anson's Blog</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/articles/" class="nav-link router-link-active">
  文章
</a></div><div class="nav-item"><a href="/about/" class="nav-link">
  关于
</a></div><div class="nav-item"><a href="https://juejin.im/user/5a2ff11451882559e225a140" target="_blank" rel="noopener noreferrer" class="nav-link external">
  掘金
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://github.com/AnsonZnl" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/articles/" class="nav-link router-link-active">
  文章
</a></div><div class="nav-item"><a href="/about/" class="nav-link">
  关于
</a></div><div class="nav-item"><a href="https://juejin.im/user/5a2ff11451882559e225a140" target="_blank" rel="noopener noreferrer" class="nav-link external">
  掘金
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://github.com/AnsonZnl" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><a href="/articles/JavaScript/" class="sidebar-heading clickable"><span>JavaScript</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/articles/Vue/" class="sidebar-heading clickable"><span>Vue</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/articles/小程序/" class="sidebar-heading clickable"><span>小程序</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/articles/Node/" class="sidebar-heading clickable router-link-active open"><span>Node</span> <span class="arrow down"></span></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/articles/Node/" aria-current="page" class="sidebar-link">Node目录</a></li><li><a href="/articles/Node/NodeJS安装和使用.html" class="sidebar-link">NodeJS安装和使用</a></li><li><a href="/articles/Node/NodeJs文件系统（fs）与流（stream）.html" class="sidebar-link">NodeJs文件系统（fs）与流（stream）</a></li><li><a href="/articles/Node/使用Node.js写一个简单的api接口.html" class="sidebar-link">使用Node.js写一个简单的api接口</a></li><li><a href="/articles/Node/使用Express搭建一个简单的服务器.html" class="sidebar-link">使用Express搭建一个简单的服务器</a></li><li><a href="/articles/Node/使用Node.js 搭建静态服务器.html" class="sidebar-link">使用Node.js 搭建静态服务器</a></li><li><a href="/articles/Node/CommonJS模块化开发.html" class="sidebar-link">CommonJS模块化开发</a></li><li><a href="/articles/Node/MongoDB学习之Mongoose的使用.html" class="active sidebar-link">MongoDB学习之Mongoose的使用</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/articles/Node/MongoDB学习之Mongoose的使用.html#title-初试mongodb学习之mongoose的使用date-2018-11-23-17-28-55tags-nodejs-mongodb" class="sidebar-link">title: 初试MongoDB学习之Mongoose的使用
date: 2018-11-23 17:28:55
tags: [&quot;NodeJS&quot;,&quot;MongoDB&quot;]</a></li></ul></li><li><a href="/articles/Node/MongoDB中常用语句.html" class="sidebar-link">MongoDB中常用语句</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><hr> <h2 id="title-初试mongodb学习之mongoose的使用date-2018-11-23-17-28-55tags-nodejs-mongodb"><a href="#title-初试mongodb学习之mongoose的使用date-2018-11-23-17-28-55tags-nodejs-mongodb" class="header-anchor">#</a> title: 初试MongoDB学习之Mongoose的使用
date: 2018-11-23 17:28:55
tags: [&quot;NodeJS&quot;,&quot;MongoDB&quot;]</h2> <h3 id="mongoose简介"><a href="#mongoose简介" class="header-anchor">#</a> mongoose简介</h3> <p>mongoose官网：https://mongoosejs.com/</p> <h4 id="为什么要用mongoose"><a href="#为什么要用mongoose" class="header-anchor">#</a> 为什么要用Mongoose</h4> <blockquote><p>Mongoose就是一个让我们可以通过Node来操作MongoDB的一个模块。
Mongoose本质是一个对象文档模型（ODM）库，
他对Node原生的MongoDB模块进行了一部优化封装，并且提供了更多的功能。</p></blockquote> <h4 id="mongoose的优势"><a href="#mongoose的优势" class="header-anchor">#</a> Mongoose的优势</h4> <ol><li>可以像操作对象一样操作数据库</li> <li>可以为文档创建一个模式结构（Schema）</li> <li>可以对模型中的文档/文档进行验证</li> <li>数据可以通过类型转换为对象模型</li> <li>可以使用中间件来应用业务逻辑挂钩</li> <li>比Node原生的MongoDB驱动更容易</li></ol> <h4 id="使用mongoose"><a href="#使用mongoose" class="header-anchor">#</a> 使用Mongoose</h4> <ol><li><p>下载安装mongoose模块
<code>cnpm install mongoose --save</code></p></li> <li><p>引用mongoose：
<code>var mongoose =require(&quot;mongoose&quot;);</code></p></li> <li><p>使用&quot;mongoose&quot;连接数据库：
<code>var db =mongoose.connect(&quot;mongodb://user:pass@localhost:port/database&quot;);</code></p></li> <li><p>执行下面代码检查默认数据库test，是否可以正常连接成功?</p></li></ol> <div class="language- extra-class"><pre class="language-text"><code>var mongoose =require(&quot;mongoose&quot;);
var db =mongoose.connect(&quot;mongodb://localhost/m_data&quot;);
db.connection.on(&quot;error&quot;,function (error) {
   console.log(&quot;数据库连接失败：&quot; + error);
});
db.connection.on(&quot;open&quot;,function () {
   console.log(&quot;数据库连接成功！&quot;);
});
db.connection.once('close', ()=&gt;{
    console.log('连接已经断开成功！')
})
</code></pre></div><h3 id="mongoose基本使用"><a href="#mongoose基本使用" class="header-anchor">#</a> mongoose基本使用</h3> <h4 id="mongoose的几个新的对象"><a href="#mongoose的几个新的对象" class="header-anchor">#</a> mongoose的几个新的对象</h4> <p>在MongoDB中，多个Document可以组成Collection(以下简称集合)，多个集合又可以组成数据库。我们想要操作MongoDB数据，那就得先要具备上面所说的包含数据的“文档”，文档又是什么意思呢，请看如下介绍。</p> <ol><li><strong>文档</strong> —— 是MongoDB的核心概念，是键值对的一个有序集，在JavaScript里文档被表示成对象。同时它也是MongoDB中数据的基本单元，非常类似于关系型数据库管理系统中的行，但更具表现力。</li> <li><strong>集合</strong> —— 由一组文档组成，如果将MongoDB中的一个文档比喻成关系型数据库中的一行，那么一个集合就相当于一张表。</li> <li><strong>Schema</strong>—— 一种以文件形式存储的数据库模型骨架，无法直接通往数据库端，也就是说它不具备对数据库的操作能力，仅仅只是<strong>定义数据的类型</strong>，可以说是数据属性模型(传统意义的表结构)，又或着是“集合”的模型骨架。
<strong>mongoose中任何任何事物都是从Schema开始的</strong>。每一个Schema对应MongoDB中的一个集合(collection)。Schema中定义了集合中文档(document)的样式。</li></ol> <h4 id="定义一个schema（表-模式对象）"><a href="#定义一个schema（表-模式对象）" class="header-anchor">#</a> 定义一个Schema（表/ 模式对象）</h4> <div class="language- extra-class"><pre class="language-text"><code>//新建Schema 定义规则/字段的规则
let Schema= mongoose.Schema;
//定义personSchema的字段（规则）需要new一下 有点像构造函数的样子
let personSchema= new Schema({
    name: String,
    sex: String,
    age: Number
});
</code></pre></div><p><strong>基本属性类型有</strong>：</p> <ul><li>String</li> <li>Number</li> <li>Date</li> <li>Boolean</li> <li>Buffer</li> <li>ObjectId</li> <li>Mixed</li> <li>Array</li></ul> <p><strong>Model</strong>—— 由Schema构造生成的模型，根据Schema定义的数据类型规则，可操作具体的符合改规则的数据。</p> <h4 id="创建model（集合）"><a href="#创建model（集合）" class="header-anchor">#</a> 创建model（集合）</h4> <div class="language- extra-class"><pre class="language-text"><code>let personModel= mongoose.model('person', personSchema);
</code></pre></div><p>person：数据库中的集合名称,当我们对其添加数据时如果person已经存在，则会保存到其目录下，如果未存在，则会创建person集合，然后在保存数据。</p> <div class="language- extra-class"><pre class="language-text"><code>//4. 插入文档
personModel.create({
    name: '张宁乐',
    sex: '男',
    age: 18
}, (err)=&gt;{
   if(!err){
       console.log('插入成功！')
   }else{
       throw err;
   }
});
</code></pre></div><h3 id="mongoose-插入和查询"><a href="#mongoose-插入和查询" class="header-anchor">#</a> mongoose 插入和查询</h3> <p>mongoose查找数据的一些方法：
https://mongoosejs.com/docs/api.html#model_Model.find</p> <h4 id="插入多条数据"><a href="#插入多条数据" class="header-anchor">#</a> 插入多条数据</h4> <div class="language- extra-class"><pre class="language-text"><code>personModel.create([
    {name:'张逗逗',age: 2,sex: '男'},
    {name:'牛嘻嘻',age: 2,sex: '女'}
], (err)=&gt;{
   if(!err){
       console.log('插入成功！')
   }else{
       throw err;
   }
})
</code></pre></div><h4 id="查询"><a href="#查询" class="header-anchor">#</a> 查询</h4> <ul><li>Model.find()</li></ul> <div class="language- extra-class"><pre class="language-text"><code>personModel.find({name: '张宁乐'}, (err, data)=&gt;{
    if(!err){
        console.log(data)
    }else{
        throw err;
    }
})
</code></pre></div><h4 id="查询所有"><a href="#查询所有" class="header-anchor">#</a> 查询所有</h4> <ul><li>Model.find({}, callback)</li></ul> <div class="language- extra-class"><pre class="language-text"><code>personModel.find({}, (err, data)=&gt;{
    if(!err){
        console.log(data)
    }else{
        throw err;
    }
})
</code></pre></div><p>也可以选择查找数据的条件（0隐藏 1显示 id默认显示） 和MongoDB在命令行中的使用方法一样</p> <div class="language- extra-class"><pre class="language-text"><code>//查询时只显示name 
personModel.find({}, {name: 1, _id: 0}, (err,data)=&gt;{
    if(!err){
        console.log(data)
    }else{
        throw err;
    }
})
</code></pre></div><p>在<code>find()</code>中  <code>skip</code>（查询开始的位置）和<code>limit</code>（增加的条数）也可以使用</p> <div class="language- extra-class"><pre class="language-text"><code>personModel.find({}, {name: 1, _id: 0, age: 1}, {skip: 0, limit: 2}, (err, data)=&gt;{
    //只显示name 和 age   从第1开始 每次查询2条 
    if(!err){
        console.log(data)
    }else{
        throw err;
    }
})
</code></pre></div><p><strong>MongoDB的find()、findOne() 等命令在 mongoose里都可以使用</strong>
具体可参考 ：https://mongoosejs.com/docs/api.html#model_Model.find</p> <h3 id="mongoose-修改和删除"><a href="#mongoose-修改和删除" class="header-anchor">#</a> mongoose 修改和删除</h3> <p>参考： https://mongoosejs.com/docs/api.html#model_Model.update</p> <h4 id="修改方法："><a href="#修改方法：" class="header-anchor">#</a> 修改方法：</h4> <ul><li>Model.update()</li> <li>Model.updateMany()</li> <li>Model.updateOne()</li> <li>Model.watch()</li></ul> <div class="language- extra-class"><pre class="language-text"><code>personModel.update({name: '张宁乐'}, {$set: {age: 20}}, (err, data)=&gt;{
   if(!err){
       console.log('修改成功！')
       console.log(data)
   }else{
       throw err;
   }
})
</code></pre></div><p><img src="https://upload-images.jianshu.io/upload_images/7072486-22be72d3058566fa.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="4a9f49d480f66c5a64cb9a833459fdd.png"></p> <h4 id="删除方法"><a href="#删除方法" class="header-anchor">#</a> 删除方法</h4> <ul><li>Model.remove()</li> <li>Model.deleteMany()</li> <li>Model.deleteOne()</li></ul> <div class="language- extra-class"><pre class="language-text"><code>personModel.remove({name:'牛嘻嘻'}, (err)=&gt;{
    if(!err){
        console.log('删除成功！')
    }else{
        throw err;
    }
})

</code></pre></div><h4 id="统计文档条数"><a href="#统计文档条数" class="header-anchor">#</a> 统计文档条数</h4> <ul><li>Model.count()</li></ul> <div class="language- extra-class"><pre class="language-text"><code>personModel.count({}, (err,count)=&gt;{
    if(!err){
        console.log('查询条数成功！ 一共：' + count + '条');
    }else{
        throw err;
    }
})
</code></pre></div><p><img src="https://upload-images.jianshu.io/upload_images/7072486-25dcaed274322130.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="2b7684dc310af51ac7fb50e5daa1123.png"></p> <h3 id="entity"><a href="#entity" class="header-anchor">#</a> Entity</h3> <p>Entity—— 由Model创建的实体，使用save方法保存数据，Model和Entity的操作都能影响数据库的操作，但Model比Entity更具操作性。
使用Model创建Entity，如下示例:</p> <div class="language- extra-class"><pre class="language-text"><code>let mongoose= require('mongoose');
let db= mongoose.connection('mongodb://localhost/m_data');
db.on('open', ()=&gt;{
    console.log('连接成功！')
})
let Schema= mongoose.Schema;
let personSchema= new Schema({
    name: String,
    sex: String,
    age: Number
});
let personModel= mongoose.model('person', personSchema);
let personEntity = new personModel({
    name: '许巍',
    sex: '男',
    age: 38
})
personEntity.save((err, person)=&gt;{
    if(!err){
        console.log('保存成功！')
        console.log(person);
    }else{
        console.log('保存失败！')
    }
})
</code></pre></div><p><img src="https://upload-images.jianshu.io/upload_images/7072486-cef62c6a437fa126.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="c85c9b12f87f890e10e74f23555c802.png"></p> <p>参考：https://blog.csdn.net/swimming_in_IT_/article/details/80723866</p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/articles/Node/CommonJS模块化开发.html" class="prev">
        CommonJS模块化开发
      </a></span> <span class="next"><a href="/articles/Node/MongoDB中常用语句.html">
        MongoDB中常用语句
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.25688d1b.js" defer></script><script src="/assets/js/2.b2df5d16.js" defer></script><script src="/assets/js/27.cf6b05af.js" defer></script>
  </body>
</html>
