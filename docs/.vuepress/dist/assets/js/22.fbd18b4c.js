(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{394:function(t,s,n){"use strict";n.r(s);var a=n(43),e=Object(a.a)({},(function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[n("hr"),t._v(" "),n("h2",{attrs:{id:"title-nodejs中的bufferdate-2018-11-05-14-04-55tags-nodejs"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#title-nodejs中的bufferdate-2018-11-05-14-04-55tags-nodejs"}},[t._v("#")]),t._v(' title: NodeJS中的Buffer\ndate: 2018-11-05 14:04:55\ntags: ["NodeJS"]')]),t._v(" "),n("h2",{attrs:{id:"buffer介绍"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#buffer介绍"}},[t._v("#")]),t._v(" Buffer介绍")]),t._v(" "),n("p",[n("strong",[t._v("为什么要用Buffer？")])]),t._v(" "),n("ol",[n("li",[t._v("在Node/ES6 出现之前，前端工程师只需要进行一些简单的额字符串或者ODM操作就可以满足业务需求了，所有对二进制数据比较陌生。")]),t._v(" "),n("li",[t._v("在node出现之后，前端工程师面对的技术场景发送了变化，可以深入到网络传输、文件操作、图片处理等领域。而这些操作与二进制数据紧密相关。")]),t._v(" "),n("li",[t._v("在Node中的Buffer，是一个二进制数据容器，数据结构和数组类似，专门用于Node中的数据放。")])]),t._v(" "),n("h2",{attrs:{id:"新建buffer"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#新建buffer"}},[t._v("#")]),t._v(" 新建Buffer")]),t._v(" "),n("p",[n("code",[t._v("Buffer.alloc(size[, fil[,encoding]])")]),t._v(" "),n("code",[t._v("size")]),t._v(":新建的buffer期望的长度\n"),n("code",[t._v("fill")]),t._v("用来预填充新建的Buffer的值 默认0\n"),n("code",[t._v("encoding")]),t._v(": 编码格式  默认：utf-8")]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/*\n        十六进制：00- ff\n        十进制 ：0- 255\n        二进制： 00000000- 11111111\n        0 / 1 代表一位 == 比特 \n        8bit = 1B\n        1kb = 1024 B\n        1mkb= 1024Kb\n        1GB = 1024m\n        1TB = 1024GB\n\n*/")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 2. Buffer.alloc(size[, fill[, encoding]])")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/*\n类数组使用即可 可遍历 可选择下标等等\n初始化： 确定的长度 不能改变\n填充值\n\n*/")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" buffer2"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Buffer"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("alloc")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//创建了一个长度是10的buffer")]),t._v("\nbuffer2"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//可以像使用数组一样使用buffer ")]),t._v("\nbuffer2"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" oxfc"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//传一个十六进制的直接取后两位 fc")]),t._v("\nbuffer2"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("30")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//这点和数组不同 溢出隐藏 ")]),t._v("\nconsole"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("buffer2"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),n("h2",{attrs:{id:"buffer使用"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#buffer使用"}},[t._v("#")]),t._v(" Buffer使用")]),t._v(" "),n("p",[t._v("**使用新方法使用Buffer **")]),t._v(" "),n("ol",[n("li",[t._v("Buffer.form(str):将一个字符串转换成buffer")]),t._v(" "),n("li",[t._v("Buffer.alloc(size):创建一个指定大小的buffer")]),t._v(" "),n("li",[t._v("Buffer.alloUnsafe(size):创建一个指定大小的buffer，但是可能包含敏感数据。")])]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 历史方法")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// let buffer = new Buffer(10);//类似 Array(10) 创建十个空间")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// console.log(buffer)// <Buffer 00 00 00 00 00 00 00 00 00 00>")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//1. 字符串转成二进制")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" str"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'www.zhangningle.top'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" buffer"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Buffer"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("from")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("str"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nconsole"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("buffer"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//<Buffer 77 77 77 2e 7a 68 61 6e 67 6e 69 6e 67 6c 65 2e 74 6f 70>")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//把buffer转成十进制的")]),t._v("\nconsole"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("buffer"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("toString")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//www.zhangningle.top")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 汉字转换成二进制后 一个汉字要用三个字节表示")]),t._v("\n\n")])])]),n("p",[n("strong",[t._v("Buffer总结点：")])]),t._v(" "),n("ol",[n("li",[t._v("Buffer的结构和数组很像，操作方法也和数组很类似。")]),t._v(" "),n("li",[t._v("Buffer中是以二进制的方式储存数据的")]),t._v(" "),n("li",[t._v("Buffer是Node自带的，不需要引入，直接可以使用。")])])])}),[],!1,null,null,null);s.default=e.exports}}]);