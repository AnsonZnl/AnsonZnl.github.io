(window.webpackJsonp=window.webpackJsonp||[]).push([[79],{380:function(t,a,e){"use strict";e.r(a);var n=e(43),s=Object(n.a)({},(function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("p",[t._v("微信小程序开中，遇到gif图执行一次的需要，经过多方，之后通过以下方式实现")]),t._v(" "),e("blockquote",[e("p",[t._v("问题描述：加载本地gif时，就算image重新渲染了，gif也会保持在终点的状态，不会重新播放\n解决方案：把本地gif的路径换成线上的，然后在最后加上时间戳即可解决\n方案缺陷：可能会造成卡顿，但目前尚未找到更好的解决方案\n————————————————\n参考链接：https://blog.csdn.net/qq_32654773/article/details/100031214")])]),t._v(" "),e("p",[t._v("附上代码：\nwxml")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('<image bindload="gifImgLoad" src="{{gifUrl}}"></image>\n')])])]),e("p",[t._v("js")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("page({\n  data:{\n    gifUrl: '图片url',//线上地址\n  },\n//图片加载成功之后执行\n  gifImgLoad(e) {\n    var gifurl = this.data.gifUrl;\n    var nowTime = +new Date();\n    setTimeout(() => {\n      this.setData({\n        gifUrl: gifurl + '?' + nowTime\n    })\n  }, 1000)//一秒钟之后消失\n})\n")])])])])}),[],!1,null,null,null);a.default=s.exports}}]);