(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{388:function(t,s,a){"use strict";a.r(s);var n=a(43),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"初试mongodb数据库"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#初试mongodb数据库"}},[t._v("#")]),t._v(" 初试MongoDB数据库")]),t._v(" "),a("h2",{attrs:{id:"数据库基本概念"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#数据库基本概念"}},[t._v("#")]),t._v(" 数据库基本概念")]),t._v(" "),a("p",[a("strong",[t._v("数据库（Database）基本概念：")])]),t._v(" "),a("ol",[a("li",[t._v("数据库就是按照一定的数据结构来组织，储存和管理数据的仓库")]),t._v(" "),a("li",[t._v("我们写的程序都是在内存中运行的，一旦程序运行结束或者计算机断点，程序运行中的数据就会全部丢失；所以我们就需要将一些程序的数据持久化到键盘之中，以确保数据的安全性。")]),t._v(" "),a("li",[t._v("数据库则是大批量数据持久化的普遍选择，1.文件 2. 数据库")])]),t._v(" "),a("p",[a("strong",[t._v("为什么都采用数据库来储存数据:")])]),t._v(" "),a("ul",[a("li",[t._v("数据库是有结构的")]),t._v(" "),a("li",[t._v("数据库可以提供各种接口，让数据处理（增删改查）快捷方便")]),t._v(" "),a("li",[t._v("各种语言（PHP jsp .net..）提供了完善的接口")])]),t._v(" "),a("p",[a("img",{attrs:{src:"https://upload-images.jianshu.io/upload_images/7072486-d9cbd052415afbf2.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240",alt:"b6dde1cf95ae2a9ec8e68c0bf1719a3.png"}})]),t._v(" "),a("p",[t._v("##数据库分类")]),t._v(" "),a("ol",[a("li",[t._v("ROBMS（关系型数据库）：\n"),a("ul",[a("li",[t._v("比如MySql 、sql server Oracle 等")]),t._v(" "),a("li",[t._v("特点 通过一张张表来建立关联")]),t._v(" "),a("li",[t._v("基本都使用SQL语言来管理数据库，")])])]),t._v(" "),a("li",[t._v("Nosql (非关系型数据库)：\n"),a("ul",[a("li",[t._v("没有行 、列的概念 用json类储存数据")]),t._v(" "),a("li",[t._v("集合相当于“表”，文档相当于“行”")]),t._v(" "),a("li",[t._v("标准化和非标准化的摩擦。")]),t._v(" "),a("li",[t._v("标准化限制创新，非标准话不能统一")])])])]),t._v(" "),a("p",[a("strong",[t._v("特征")]),t._v("：\n使用键值（Key Value）储存数据；\nMongoDB的逻辑结构是一种层次结构，主要由：文档(document)、集合(collection)、数据库(database)这三部分组成的。")]),t._v(" "),a("ul",[a("li",[t._v("文档(document)：由键/值对构成，像{a:1}；{s:”abc”}等，它是MongoDB核心单元，MongoDB的文档（document），相当于关系数据库中的一行记录。")]),t._v(" "),a("li",[t._v("集合（Collection）：多个文档组成一个集合（collection），相当于关系数据库的表。")]),t._v(" "),a("li",[t._v("数据库（database）：多个集合（collection），逻辑上组织在一起，就是数据库（database）。\n一个MongoDB实例支持多个数据库（database）。")])]),t._v(" "),a("p",[a("strong",[t._v("关系型数据库和非关系型数据库区别：")]),t._v("\n关系型数据库比较结构化，操作不是很灵活，菲关系型数据库操作灵活，但不适合大型数据存储，比较适合微架构，两者是相辅相成的关系\n"),a("img",{attrs:{src:"https://upload-images.jianshu.io/upload_images/7072486-db349e8b6512241e.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240",alt:"8bc32dd95a923344fdc2710d2fcbeab.png"}})]),t._v(" "),a("p",[a("strong",[t._v("非关系型数据库使用方面：")])]),t._v(" "),a("ol",[a("li",[t._v("数据模型比较简单")]),t._v(" "),a("li",[t._v("需要灵活性更强的后台系统")]),t._v(" "),a("li",[t._v("对数据库性能要求比较高")]),t._v(" "),a("li",[t._v("不需要高度的数据一致性")])]),t._v(" "),a("p",[a("strong",[t._v("非关系型数据库主要适合小微型架构的使用")])]),t._v(" "),a("h2",{attrs:{id:"数据库mongodb安装"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#数据库mongodb安装"}},[t._v("#")]),t._v(" 数据库MongoDB安装")]),t._v(" "),a("p",[t._v("MongoDB（非关系型数据库）：")]),t._v(" "),a("ol",[a("li",[t._v("适合快速开发web应用而设计的数据库系统")]),t._v(" "),a("li",[t._v("设计目标是极简、灵活、经常在web应用栈的业务层被运用")]),t._v(" "),a("li",[t._v("它的数据模型是面向文档的，类似于json的结构")]),t._v(" "),a("li",[t._v("所以这个数据库中是各种各样的json, 并以键值形式对存储")])]),t._v(" "),a("p",[t._v("安装：\n下载:https://www.mongodb.com/\n偶数是稳定版，奇数是开发版\n最好下载64位的系统版本的")]),t._v(" "),a("p",[a("strong",[t._v("配置环境变量:")])]),t._v(" "),a("ol",[a("li",[t._v("新建---\x3e安装到bin路径复制到环境变量")]),t._v(" "),a("li",[t._v("创建data->db文件夹")]),t._v(" "),a("li",[t._v("打开命令行输入mongod启动DB服务器")]),t._v(" "),a("li",[t._v("指定端口号和路径 mongod --dbpath d:\\data\\db")]),t._v(" "),a("li",[t._v("将MongDB设置为系统服务，data\\log\n创建配置文件在bin下穿件文件mongod.cfg\n执行一段命令：")])]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('sc.exe create MongoDB binPath= "\\"F:\\MongoDB\\Server\\3.2\\bin\\mongod.exe\\" --service --config= \\"F:\\MongoDB\\Server\\3.2\\mongod.cfg\\"" DisplayName= "MongoDB" start= "auto"\n')])])]),a("p",[t._v("主要是让MongoDB一直运行在内存中\n参考资料：\nhttps://www.cnblogs.com/wzlblog/p/6364045.html\nhttps://www.cnblogs.com/chenlq/p/6515876.html")]),t._v(" "),a("h2",{attrs:{id:"在命令行中使用mongodb插入命令"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#在命令行中使用mongodb插入命令"}},[t._v("#")]),t._v(" 在命令行中使用MongoDB插入命令")]),t._v(" "),a("p",[a("strong",[t._v("MongoDB的组成：")])]),t._v(" "),a("ul",[a("li",[t._v("数据库 数据库是一个仓库 在仓库里可以放集合")]),t._v(" "),a("li",[t._v("集合： 集合类似数组 在集合里可以放文档")]),t._v(" "),a("li",[t._v("文档：文档是数据库中最小的单位 我们储存和操作的内容都是文档。")])]),t._v(" "),a("p",[a("strong",[t._v("基本指令：")]),t._v(" "),a("code",[t._v("show dbs")]),t._v("  显示当前所有的数据库\n"),a("code",[t._v("use")]),t._v(" 数据库名  进入到指定数据库\n"),a("code",[t._v("db")]),t._v(" 显示当前所在的数据库\n"),a("code",[t._v("show collections")]),t._v(" 显示数据库中的所有集合")]),t._v(" "),a("p",[t._v("使用管理员打开 cmd\n输入 "),a("code",[t._v("mongo")]),t._v("进入MongoDB的环境\n进入MongoDB的环境才能执行MongoDB的命令\n然后使用命令行进行CRUD(增删改查)：\n"),a("code",[t._v("db.<collection>.insert(doc)")])]),t._v(" "),a("p",[a("strong",[t._v("举例子：")]),t._v("\n想school数据库中的学生集合student中插入一个新的学生对象\n增加一条数据：\n"),a("code",[t._v('db.student.insert({id:"001",name:"znl",age:18,sex:“男”})')]),t._v("\n在当前的集合（school）中新建一条数据")]),t._v(" "),a("p",[t._v("查询一条数据：\n"),a("code",[t._v("db.<collection>.find();")])]),t._v(" "),a("p",[t._v("如："),a("code",[t._v("db.student.find();")]),t._v("\n回车 就能查询student下的所有数据\n插入多条数据：")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("db"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("集合名"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("insert")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("name"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"张三"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("age"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("18")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("sex"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"man"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("name"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"张三"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("age"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("18")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("sex"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"man"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("name"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"张三"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("age"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("18")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("sex"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"man"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("id"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("18")]),t._v("，name"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"张三"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("age"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("18")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("sex"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"man"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("blockquote",[a("p",[t._v("插入多条数据时把多条语句放在一个数组里\n插入可随便插入 不必拘泥于字段是否相同 当插入的字段不存在时会自动创建该字段")])]),t._v(" "),a("p",[t._v("查看更多更多操作：http://www.mongodb.org.cn/manual/")]),t._v(" "),a("h2",{attrs:{id:"mongodb-可视化工具-【nosql】"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#mongodb-可视化工具-【nosql】"}},[t._v("#")]),t._v(" MongoDB 可视化工具 【NOSQL】")]),t._v(" "),a("p",[t._v("然而一直使用命令行操作是很麻烦的事情，所以推荐使用NOSQL可视化工具\n安装可视化工具下载地址：https://www.mongodbmanager.com/download")]),t._v(" "),a("h2",{attrs:{id:"使用可视化工具"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#使用可视化工具"}},[t._v("#")]),t._v(" 使用可视化工具")]),t._v(" "),a("p",[t._v("可视化工具 查找功能：\n插入(insert)语句：")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("db"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("student")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("集合名字"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("insert")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("id"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("name"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"znl"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("age"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("18")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("id"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("name"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"znl"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("age"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("18")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("p",[t._v("查询语句：\n"),a("code",[t._v("db.student(集合name).find();")])]),t._v(" "),a("p",[t._v("设定条件查询：\n"),a("code",[t._v('db.student.find({ "_id" : ObjectId("5bd01c825f0d528d36a2c06f")});')]),t._v("\n查询id对应的数据\n"),a("code",[t._v('db.student.find({age:18,name:"张三"});')]),t._v("\n查询所有的age是18并且name是张三的人\n"),a("code",[t._v('db.student.findOne({age:18,name:"张三"});')]),t._v("\n查询单条符合条件的数据")]),t._v(" "),a("p",[t._v("操作符-查询有多少条数据：\n"),a("code",[t._v("db.student.find().count();")]),t._v("\n或\n"),a("code",[t._v("db.student.find().length();")]),t._v("\n返回数据总条数")]),t._v(" "),a("p",[t._v("查询符合条件数据的条数：\n"),a("code",[t._v('db.student.find({name:"张三"}).length();')]),t._v('\n返回符合name:"张三"的条数')]),t._v(" "),a("h2",{attrs:{id:"数据库更新命令"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#数据库更新命令"}},[t._v("#")]),t._v(" 数据库更新命令")]),t._v(" "),a("p",[t._v("更新原有的字段的数据：")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("db"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("student"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("update")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"name"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"张三"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("$"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("set")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      name"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"刘五"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      age"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("45")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("p",[t._v("把匹配到的"),a("code",[t._v('name:"张三"')]),t._v("的数据都更新成 "),a("code",[t._v('name:"刘五", age:45')]),t._v("\n也可以新增没有的字段 直接写入就可以\n"),a("strong",[t._v("$set ：有这个字段就修改 没有这个字段就新增")])]),t._v(" "),a("p",[t._v("删除一个字段：")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("db"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("student"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("update")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"name"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"张三"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("，"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("$unset"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    age"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("p",[t._v("查询"),a("code",[t._v("name:张三")]),t._v("的一条数据 然后删除它的age字段")]),t._v(" "),a("p",[t._v("修改多条：")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("db"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("student"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("updateMany")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"sex"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"man"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("$"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("set")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    aihao"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"玩游戏"')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("p",[t._v("把符合"),a("code",[t._v("sex:man")]),t._v("的语句都新增（修改）一条"),a("code",[t._v('aihao:"玩游戏"')]),t._v(" "),a("strong",[t._v("$set ：有则修改 无则新增")])]),t._v(" "),a("p",[t._v("更新多条数据方法2：")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("db"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("student"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("update")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("name"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"张三"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("$"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("set")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      name"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"王五"')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n     multi"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("p",[t._v("参考文档：https://docs.mongodb.com/manual/tutorial/query-documents/")])])}),[],!1,null,null,null);s.default=e.exports}}]);